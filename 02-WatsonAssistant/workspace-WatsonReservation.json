{"name":"Table reservation","intents":[{"intent":"yes","examples":[{"text":"Sure"},{"text":"Yes, Please"},{"text":"Please do"},{"text":"Sounds good"},{"text":"Yes"}],"description":"an affirmative response"},{"intent":"make_reservation","examples":[{"text":"I'd like a table"},{"text":"Please help me with a reservation"},{"text":"I need to reserve a table"},{"text":"Can I make a resrvation for three people for tomorrow at 9:00PM"},{"text":"Booking?"},{"text":"I need a reservation"}],"description":"Handle reservation request from users"},{"intent":"greetings","examples":[{"text":"Good evening"},{"text":"Good morning"},{"text":"Hi"},{"text":"Hello"},{"text":"How are you?"},{"text":"Good afternoon"},{"text":"Good day"}],"description":"Greetings"},{"intent":"exit","examples":[{"text":"cancel this"},{"text":"exit"},{"text":"quit"},{"text":"Nevermind"},{"text":"Stop the reservation"}],"description":"Exit the reservation conversation"},{"intent":"farewell","examples":[{"text":"Bye"},{"text":"see you"},{"text":"see you later"},{"text":"Thanks, bye"}],"description":"Closing the conversation"},{"intent":"no","examples":[{"text":"That is not what I want"},{"text":"No way"},{"text":"Please no"},{"text":"That's wrong"},{"text":"No"}],"description":"an negative response"}],"entities":[{"entity":"sys-time","values":[],"metadata":null,"description":null},{"entity":"sys-date","values":[],"metadata":null,"description":null},{"entity":"sys-number","values":[],"metadata":null,"description":null}],"language":"en","metadata":{"api_version":{"major_version":"v1","minor_version":"2017-05-26"}},"description":"Assistant for table reservation","dialog_nodes":[{"type":"event_handler","title":null,"output":{"text":{"values":["Please specify a number that is larger than 0."]}},"parent":"slot_34_1533245816888","context":null,"metadata":{},"next_step":{"behavior":"reprompt"},"conditions":"entities['sys-number']?.value == 0","event_name":"filled","description":null,"dialog_node":"handler_57_1533248085844","previous_sibling":"handler_35_1533245816888"},{"type":"event_handler","title":null,"output":{"text":{"values":["Ok, updating the number of guests from <? event.previous_value ?> to <? event.current_value ?>."]}},"parent":"slot_34_1533245816888","context":null,"metadata":{},"next_step":null,"conditions":"(event.previous_value != null) && (event.previous_value != event.current_value)","event_name":"filled","description":null,"dialog_node":"handler_58_1533248159778","previous_sibling":"handler_57_1533248085844"},{"type":"event_handler","title":null,"output":{"text":{"values":["I didn't get the number of guests? How many people is coming?"],"selection_policy":"sequential"}},"parent":"slot_34_1533245816888","context":null,"metadata":{},"next_step":null,"conditions":"true","event_name":"nomatch","description":null,"dialog_node":"handler_45_1533246704936","previous_sibling":"handler_59_1533248214408"},{"type":"event_handler","title":null,"output":{},"parent":"slot_34_1533245816888","context":{"guests":"@sys-number"},"metadata":{},"next_step":null,"conditions":"@sys-number || @sys-number:0","event_name":"input","description":null,"dialog_node":"handler_35_1533245816888","previous_sibling":"handler_36_1533245816888"},{"type":"event_handler","title":null,"output":{"text":{"values":["Ok. The reservation is for $guests guests."]}},"parent":"slot_34_1533245816888","context":null,"metadata":{},"next_step":null,"conditions":"!($time && $date)","event_name":"filled","description":null,"dialog_node":"handler_59_1533248214408","previous_sibling":"handler_58_1533248159778"},{"type":"event_handler","title":null,"output":{"text":"How many guests are coming?"},"parent":"slot_34_1533245816888","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_36_1533245816888","previous_sibling":null},{"type":"event_handler","title":null,"output":{"text":{"values":["Our first seating is at 9:00AM"]}},"parent":"slot_31_1533245814530","context":null,"metadata":{},"next_step":{"behavior":"reprompt"},"conditions":"@sys-time.before('10:00:00')","event_name":"filled","description":null,"dialog_node":"handler_54_1533247775518","previous_sibling":"handler_32_1533245814530"},{"type":"event_handler","title":null,"output":{"text":{"values":["I couldn't detect a time for the reservation. Can you provide the time?"],"selection_policy":"sequential"}},"parent":"slot_31_1533245814530","context":{"counter":"<? context['counter'] + 1 ?>"},"metadata":{},"next_step":null,"conditions":"true","event_name":"nomatch","description":null,"dialog_node":"handler_43_1533246664548","previous_sibling":"handler_7_1533252050126"},{"type":"event_handler","title":null,"output":{"text":{"values":["You seem to be having trouble choosing a time. I will make the reservation at 8PM for you."]}},"parent":"slot_31_1533245814530","context":{"time":"<? '20:00:00'.reformatDateTime('h:mm a') ?>"},"metadata":null,"next_step":null,"conditions":"$counter > 1","event_name":"nomatch","description":null,"dialog_node":"handler_7_1533252050126","previous_sibling":"handler_56_1533247995868"},{"type":"event_handler","title":null,"output":{"text":{"values":["Ok, the reservation is for $time."]}},"parent":"slot_31_1533245814530","context":null,"metadata":{},"next_step":null,"conditions":"!($date && $guests)","event_name":"filled","description":null,"dialog_node":"handler_56_1533247995868","previous_sibling":"handler_55_1533247885334"},{"type":"event_handler","title":null,"output":{"text":{"values":["Our last seating is at 9:00PM"]}},"parent":"slot_31_1533245814530","context":null,"metadata":{},"next_step":{"behavior":"reprompt"},"conditions":"@sys-time.after('21:00:00')","event_name":"filled","description":null,"dialog_node":"handler_55_1533247885334","previous_sibling":"handler_54_1533247775518"},{"type":"event_handler","title":null,"output":{},"parent":"slot_31_1533245814530","context":{"time":"<? @sys-time.reformatDateTime('h:mm a') ?>"},"metadata":{},"next_step":null,"conditions":"@sys-time","event_name":"input","description":null,"dialog_node":"handler_32_1533245814530","previous_sibling":"handler_33_1533245814530"},{"type":"event_handler","title":null,"output":{"text":"What is the time of the reservation?"},"parent":"slot_31_1533245814530","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_33_1533245814530","previous_sibling":null},{"type":"response_condition","title":null,"output":{"generic":[{"values":[{"text":"I look forward to helping you with your next reservation. Have a good day."}],"response_type":"text"}]},"parent":"node_27_1533245736722","context":null,"metadata":{},"next_step":null,"conditions":"has_skipped_slots","description":null,"dialog_node":"node_5_1533251140322","previous_sibling":"handler_3_1533250970698"},{"type":"slot","title":null,"output":{},"parent":"node_27_1533245736722","context":null,"metadata":{"_customization":{"mcr":true}},"variable":"$date","next_step":null,"conditions":null,"description":null,"dialog_node":"slot_28_1533245807250","previous_sibling":"node_4_1533251088584"},{"type":"slot","title":null,"output":{},"parent":"node_27_1533245736722","context":null,"metadata":{"_customization":{"mcr":true}},"variable":"$confirmation","next_step":null,"conditions":null,"description":null,"dialog_node":"slot_60_1533248592390","previous_sibling":"slot_34_1533245816888"},{"type":"response_condition","title":null,"output":{"action":"save","generic":[{"values":[{"text":"OK. I am making you a reservation for $guests on $date at $time."}],"response_type":"text","selection_policy":"sequential"}]},"parent":"node_27_1533245736722","context":null,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_4_1533251088584","previous_sibling":"node_5_1533251140322"},{"type":"slot","title":null,"output":{},"parent":"node_27_1533245736722","context":null,"metadata":{"_customization":{"mcr":true}},"variable":"$guests","next_step":null,"conditions":null,"description":null,"dialog_node":"slot_34_1533245816888","previous_sibling":"slot_31_1533245814530"},{"type":"slot","title":null,"output":{},"parent":"node_27_1533245736722","context":null,"metadata":{"_customization":{"mcr":true}},"variable":"$time","next_step":null,"conditions":null,"description":null,"dialog_node":"slot_31_1533245814530","previous_sibling":"slot_28_1533245807250"},{"type":"event_handler","title":null,"output":{"text":{"values":["Ok, we'll stop there. No reservation will be made."]},"action":"quit"},"parent":"node_27_1533245736722","context":null,"metadata":{},"next_step":{"behavior":"skip_all_slots"},"conditions":"#exit","event_name":"generic","description":null,"dialog_node":"handler_3_1533250970698","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_60_1533248592390","context":{"confirmation":"(#yes || #no) && slot_in_focus"},"metadata":{},"next_step":null,"conditions":"(#yes || #no) && slot_in_focus","event_name":"input","description":null,"dialog_node":"handler_61_1533248592390","previous_sibling":"handler_62_1533248592390"},{"type":"event_handler","title":null,"output":{"text":{"values":["Alright. Let's start over. I'll try to keep up this time."]}},"parent":"slot_60_1533248592390","context":{"date":null,"time":null,"guests":null},"metadata":{},"next_step":null,"conditions":"#no","event_name":"filled","description":null,"dialog_node":"handler_63_1533248879190","previous_sibling":"handler_61_1533248592390"},{"type":"event_handler","title":null,"output":{"text":{"values":["Respond with Yes to indicate that you want the reservation to be made as-is, or No to indicate that you do not."]}},"parent":"slot_60_1533248592390","context":null,"metadata":{},"next_step":null,"conditions":"true","event_name":"nomatch","description":null,"dialog_node":"handler_65_1533249046486","previous_sibling":"handler_63_1533248879190"},{"type":"event_handler","title":null,"output":{"text":"I'm going to reserve you a table for $guests on $date at $time. Should I go ahead?"},"parent":"slot_60_1533248592390","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_62_1533248592390","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_28_1533245807250","context":{"date":"<? @sys-date.reformatDateTime('EEEE, MMMM d') ?>"},"metadata":{},"next_step":null,"conditions":"@sys-date","event_name":"input","description":null,"dialog_node":"handler_29_1533245807250","previous_sibling":"handler_30_1533245807250"},{"type":"event_handler","title":null,"output":{"text":{"values":["$date  it is"]}},"parent":"slot_28_1533245807250","context":null,"metadata":{},"next_step":null,"conditions":"!($time && $guests)","event_name":"filled","description":null,"dialog_node":"handler_53_1533247696156","previous_sibling":"handler_52_1533247524574"},{"type":"event_handler","title":null,"output":{"text":{"values":["I couldn't detect a date for the reservation. Please specify the date."],"selection_policy":"sequential"}},"parent":"slot_28_1533245807250","context":null,"metadata":{},"next_step":null,"conditions":"true","event_name":"nomatch","description":null,"dialog_node":"handler_41_1533246597130","previous_sibling":"handler_53_1533247696156"},{"type":"event_handler","title":null,"output":{"text":{"values":["You can't make reservations in the past."]}},"parent":"slot_28_1533245807250","context":null,"metadata":{},"next_step":{"behavior":"reprompt"},"conditions":"@sys-date.before(now())","event_name":"filled","description":null,"dialog_node":"handler_52_1533247524574","previous_sibling":"handler_29_1533245807250"},{"type":"event_handler","title":null,"output":{"text":"Which date do you wish to reserve?"},"parent":"slot_28_1533245807250","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_30_1533245807250","previous_sibling":null},{"type":"frame","title":"Get reservation data","output":{},"parent":"node_1_1533250395542","context":null,"metadata":{"fallback":"leave","_customization":{"mcr":true}},"next_step":null,"conditions":"($date == null && $time == null)","description":null,"dialog_node":"node_27_1533245736722","digress_out":"allow_all","previous_sibling":null,"digress_out_slots":"not_allowed"},{"type":"standard","title":"Greetings","output":{"generic":[{"values":[{"text":"Hi! I can help you with a table reservation."},{"text":"Hello! Please provide the details of the reservation"}],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":null,"metadata":{},"next_step":null,"conditions":"#greetings","digress_in":"does_not_return","description":null,"dialog_node":"node_8_1533252806298","previous_sibling":"node_9_1533253303764"},{"type":"standard","title":"Anything else","output":{"generic":[{"values":[{"text":"I didn't understand. You can try rephrasing."},{"text":"Can you reword your statement? I'm not understanding."},{"text":"I didn't get your meaning."}],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":null,"metadata":{},"next_step":null,"conditions":"anything_else","description":null,"dialog_node":"Anything else","previous_sibling":"node_1_1533255383298"},{"type":"standard","title":"Checking the confidence","output":{"generic":[{"values":[{"text":"You may want to report I have to be retrained with this expression!"}],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":null,"metadata":{},"next_step":{"behavior":"jump_to","selector":"condition","dialog_node":"Anything else"},"conditions":"intents[0].confidence < 0.5","description":null,"dialog_node":"node_9_1533253303764","previous_sibling":"Welcome"},{"type":"standard","title":"Closing the conversation","output":{"action":"quit","generic":[{"values":[{"text":"See you later. Please Come back soon."}],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":null,"metadata":{},"next_step":null,"conditions":"#farewell","description":null,"dialog_node":"node_1_1533255383298","previous_sibling":"node_1_1533250395542"},{"type":"standard","title":"Clean slots for new reservation","output":{"generic":[{"values":[],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":{"date":null,"time":null,"guests":null,"counter":0,"confirmation":null},"metadata":{},"next_step":{"behavior":"skip_user_input"},"conditions":"#make_reservation","description":null,"dialog_node":"node_1_1533250395542","previous_sibling":"node_8_1533252806298"},{"type":"standard","title":"Welcome","output":{"generic":[{"values":[{"text":"Hello. I'm a chatbot and I can help you to make table reservations"}],"response_type":"text","selection_policy":"sequential"}]},"parent":null,"context":null,"metadata":{},"next_step":null,"conditions":"welcome","description":null,"dialog_node":"Welcome","previous_sibling":null}],"workspace_id":"b8921661-8de2-4e34-a248-429bac56cb85","counterexamples":[],"system_settings":{"tooling":{"store_generic_responses":true},"disambiguation":{"prompt":"Did you mean:","none_of_the_above_prompt":"None of the above"},"human_agent_assist":{"prompt":"Did you mean:"}},"learning_opt_out":false}